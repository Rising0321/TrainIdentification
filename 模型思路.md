# 铁路用户筛选方法及实验记录

发送5.4w，到达3.8w，共9.2W，除以15约为6333，6333除以移动用户占总用户比例（2），得到应该**200万用户里乘坐高铁的移动用户数为3166**

## 要求1（这一步引入误差几乎没有，我觉得是必要条件）：

在交通枢纽附近$r=1km$，时间超过$t_0 = 15\ mins$。

这些参数我觉得这个是**必须且没有调整必要**的了

## 要求2(这一步可能引入较大误差)：

在给定一个边界外（大约是五环）外时间超过$t_1 = 15\ min$

这个是为了说明这个人**往北京外**走了，或者从外面回来

### 一个可能的替换：

**距离边界3k内的时间在$t_1‘ = 5\ mins$以上**

后来发现北京边界算是有五千条线段，引入过多计算，遂暂时放弃。但是用一些模型来压缩这五千个线段也是可能的方式之一，而且可发挥空间很大。

## 对比实验1：

![image-20240607204116614](asssets\image-20240607204116614.png)

$r=1, t_0=15, t_1 = 15$时，可以识别出178109条轨迹，**远多于实际值**

此外，在UID为0-2,000,000的用户里，可以识别出**11916条轨迹**，约为1/15。因此以后我们就在前两百万用户里进行分析，然后结果乘15，进行分析

## 要求3（我觉得是必要条件）：

一天之内存在连续$t_2 >= 30 mins$的时间信令不存在。

这些参数我觉得这个是**必须且没有调整必要**的了

## 对比实验2：

$r=1, t_0=15, t_2 = 30 mins$时，在UID为0-2,000,000的用户里，可以识别出**5804个人**，可以看出这个筛选方法非常有用。基本筛选出的全部都是跨省了的人。

![image-20240608210736371](asssets\image-20240608210736371.png)

## 方法4：通过分段来解决一个人多次的问题

分段方式：如果一个人**连续$t_2 >= 30 mins$**前或后，在交通枢纽附近$r=1km$，时间超过$t_0 = 15\ mins$，且在给定一个边界外（大约是五环）外时间超过$t_1 = 15\ min$，认为是一段。

发现居然还是识别出**5804个人**，相当于200万用户里没有一个是一天出行多次的。

**结果与直觉不一致**，因为可能存在一定数量的京津通勤的。

可能性1：京津通勤的目前我还是会划分到一段里面。**主要可能是这个问题**。可以考虑更细粒度的分段。因为现在只卡了一头。

可能性2：可能是$t_0或t_1$设置过大，虽然从北京南站出发可能需要花费超过15min，但是**到达**的话，有可能在站里不会停留超过15min。因此，可以通过参数敏感度实验来验证假设。同时，还可以通过判断每个人流入流出的方向，来计算一下。

## 下一步：通过参数敏感性实验来验证上述假设



## 下两步：判断每个人流入/流出的方向
